(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d6e7e078"],{3670:function(t,e,a){"use strict";function n(t,e,a){this.$children.forEach(c=>{const i=c.$options.name;i===t?c.$emit.apply(c,[e].concat(a)):n.apply(c,[t,e].concat([a]))})}e["a"]={methods:{dispatch(t,e,a){let n=this.$parent||this.$root,c=n.$options.name;while(n&&(!c||c!==t))n=n.$parent,n&&(c=n.$options.name);n&&n.$emit.apply(n,[e].concat(a))},broadcast(t,e,a){n.call(this,t,e,a)}}}},db03:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Tree",t._g(t._b({attrs:{data:t.data,"load-data":t.loadDataCallback,"show-checkbox":""},on:{"on-check-change":t.handleCheckSelect}},"Tree",t.parent.$attrs,!1),t.parent.$listeners))},c=[],i=(a("6762"),a("2fdb"),a("ac6a"),a("3670")),r=function(t,e){if(t.length!==e.length)return!1;for(var a=0;a<t.length;a++)if(t[a]!==e[a])return!1;return!0},l={name:"TreeSelectTree",mixins:[i["a"]],props:{data:{type:Array,default:function(){return[]}},selectedArray:{type:Array,default:function(){return[]}},loadData:Function},data:function(){return{flatDic:{},checkedArray:[]}},inject:["parent"],computed:{expandAll:function(){return this.parent.$attrs["expand-all"]}},watch:{data:function(t,e){var a=this;this.updateFlagDic(t);var n=[];this.selectedArray.forEach(function(t){t in a.flatDic&&n.push(t)}),this.$emit("on-check",n.map(function(t){return a.flatDic[t]})),this.expandAll&&this.checkData(t,!1,!0)},selectedArray:function(t,e){var a=this;if(!r(t,e)){var n=t.filter(function(t){return t in a.flatDic});this.$emit("on-check",n.map(function(t){return a.flatDic[t]})),this.$emit("on-clear"),this.$nextTick(function(){a.checkData(a.data,!0)})}}},methods:{checkEmit:function(t,e){this.dispatch("iSelect","on-select-selected",{value:t,label:e}),this.$emit("on-select-selected",{value:t,label:e})},updateFlagDic:function(t){var e={};this.setFlagDic(t,function(t){e[t.id]=t}),this.flatDic=e},setFlagDic:function(t,e){var a=this;t.forEach(function(t){t.children&&t.children.length&&a.setFlagDic(t.children,e),e(t)})},handleCheckSelect:function(t,e){this.$emit("on-check",t),this.parent.$emit("on-change",t)},checkData:function(t,e,a){var n=this;t.forEach(function(t){n.selectedArray.includes(t.id)?(n.$set(t,"checked",!0),n.checkedArray.push(t),e&&n.checkEmit(t.id,t.title)):n.$set(t,"checked",!1),t.children&&t.children.length&&(n.expandAll&&a&&n.$set(t,"expand",!0),n.checkData(t.children,e,a))})},loadDataCallback:function(t,e){var a=this;this.loadData(t,function(t){return function(){e(t),a.updateFlagDic(a.data)}()})}},mounted:function(){var t=this;this.checkData(this.data,!1,!0),this.$nextTick(function(){t.$emit("on-check",t.checkedArray)})}},h=l,o=a("2877"),s=Object(o["a"])(h,n,c,!1,null,null,null);e["default"]=s.exports}}]);