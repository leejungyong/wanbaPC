(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-93228f20","chunk-d6e7e078"],{3670:function(t,e,n){"use strict";function a(t,e,n){this.$children.forEach(c=>{const i=c.$options.name;i===t?c.$emit.apply(c,[e].concat(n)):a.apply(c,[t,e].concat([n]))})}e["a"]={methods:{dispatch(t,e,n){let a=this.$parent||this.$root,c=a.$options.name;while(a&&(!c||c!==t))a=a.$parent,a&&(c=a.$options.name);a&&a.$emit.apply(a,[e].concat(n))},broadcast(t,e,n){a.call(this,t,e,n)}}}},"66c8":function(t,e,n){"use strict";var a=n("f17d"),c=n.n(a);c.a},a1a2:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Select",t._b({ref:"select",staticClass:"tree-select",attrs:{multiple:""},on:{"on-change":t.handleChange}},"Select",t.$attrs,!1),[n("tree-select-tree-item",{attrs:{selectedArray:t.value,data:t.data,"load-data":t.loadData},on:{"on-clear":t.handleClear,"on-check":t.handleTreeCheck}})],1)},c=[],i=n("3670"),r=n("db03"),l={name:"TreeSelect",mixins:[i["a"]],components:{TreeSelectTreeItem:r["default"]},props:{value:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},loadData:Function},data:function(){return{isChangedByTree:!0,isInit:!0}},provide:function(){return{parent:this}},methods:{handleChange:function(t){this.isChangedByTree||this.$emit("input",t),this.isChangedByTree=!1},handleTreeCheck:function(t){this.isChangedByTree=!0,this.$emit("input",t.map(function(t){return t.id}))},handleClear:function(){this.$refs.select.reset()}}},s=l,h=(n("66c8"),n("2877")),o=Object(h["a"])(s,a,c,!1,null,null,null);e["default"]=o.exports},db03:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Tree",t._g(t._b({attrs:{data:t.data,"load-data":t.loadDataCallback,"show-checkbox":""},on:{"on-check-change":t.handleCheckSelect}},"Tree",t.parent.$attrs,!1),t.parent.$listeners))},c=[],i=(n("6762"),n("2fdb"),n("ac6a"),n("3670")),r=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},l={name:"TreeSelectTree",mixins:[i["a"]],props:{data:{type:Array,default:function(){return[]}},selectedArray:{type:Array,default:function(){return[]}},loadData:Function},data:function(){return{flatDic:{},checkedArray:[]}},inject:["parent"],computed:{expandAll:function(){return this.parent.$attrs["expand-all"]}},watch:{data:function(t,e){var n=this;this.updateFlagDic(t);var a=[];this.selectedArray.forEach(function(t){t in n.flatDic&&a.push(t)}),this.$emit("on-check",a.map(function(t){return n.flatDic[t]})),this.expandAll&&this.checkData(t,!1,!0)},selectedArray:function(t,e){var n=this;if(!r(t,e)){var a=t.filter(function(t){return t in n.flatDic});this.$emit("on-check",a.map(function(t){return n.flatDic[t]})),this.$emit("on-clear"),this.$nextTick(function(){n.checkData(n.data,!0)})}}},methods:{checkEmit:function(t,e){this.dispatch("iSelect","on-select-selected",{value:t,label:e}),this.$emit("on-select-selected",{value:t,label:e})},updateFlagDic:function(t){var e={};this.setFlagDic(t,function(t){e[t.id]=t}),this.flatDic=e},setFlagDic:function(t,e){var n=this;t.forEach(function(t){t.children&&t.children.length&&n.setFlagDic(t.children,e),e(t)})},handleCheckSelect:function(t,e){this.$emit("on-check",t),this.parent.$emit("on-change",t)},checkData:function(t,e,n){var a=this;t.forEach(function(t){a.selectedArray.includes(t.id)?(a.$set(t,"checked",!0),a.checkedArray.push(t),e&&a.checkEmit(t.id,t.title)):a.$set(t,"checked",!1),t.children&&t.children.length&&(a.expandAll&&n&&a.$set(t,"expand",!0),a.checkData(t.children,e,n))})},loadDataCallback:function(t,e){var n=this;this.loadData(t,function(t){return function(){e(t),n.updateFlagDic(n.data)}()})}},mounted:function(){var t=this;this.checkData(this.data,!1,!0),this.$nextTick(function(){t.$emit("on-check",t.checkedArray)})}},s=l,h=n("2877"),o=Object(h["a"])(s,a,c,!1,null,null,null);e["default"]=o.exports},f17d:function(t,e,n){}}]);