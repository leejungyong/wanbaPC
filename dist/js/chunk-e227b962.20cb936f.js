(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e227b962"],{"596c":function(t,e,i){"use strict";var a=i("b905"),s=i.n(a);s.a},b905:function(t,e,i){},f72f:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Table",{attrs:{columns:t.tableTitle,data:t.tableData,loading:t.tableLoading}}),i("Modal",{attrs:{title:"题目详情",loading:t.loading},on:{"on-ok":t.sure,"on-cancel":t.cancel},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[i("div",{staticClass:"divbox"},[i("div",{staticClass:"item"},[i("span",{staticClass:"itemtext"},[t._v("题目 :")]),t._v("\n        "+t._s(t.quesObj.memo)+"\n      ")]),t.quesObj.answer?i("div",{staticClass:"item"},[i("span",{staticClass:"itemtext"},[t._v("答案 :")]),t._v("\n        "+t._s(t.quesObj.answer)+"\n      ")]):t._e(),t.length>0?i("div",{staticClass:"item clearfix"},[i("span",{staticClass:"fl itemtext"},[t._v("图片 :")]),i("ul",{staticClass:"fl picbox"},t._l(t.quesObj.pics,function(e,a){return i("li",{key:a,staticStyle:{width:"50px",height:"50px",float:"left","margin-right":"5px"}},[i("img",{staticClass:"pic",attrs:{src:e.url},on:{click:function(i){return t.bigImage(e.url)}}})])}),0)]):t._e(),"0"!=t.quesObj.media?i("div",{staticClass:"item clearfix"},[i("span",{staticClass:"fl itemtext"},[t._v("视频 :")]),i("video",{attrs:{src:t.quesObj.url,height:"150px",controls:"controls",preload:"preload"}})]):t._e(),i("div",{staticClass:"item"},[i("span",{staticClass:"itemtext"},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 审核意见:\n        ")]),i("RadioGroup",{on:{"on-change":t.ifTextarea},model:{value:t.choose,callback:function(e){t.choose=e},expression:"choose"}},[i("Radio",{attrs:{label:"pass"}},[t._v("通过")]),i("Radio",{attrs:{label:"reject"}},[t._v("驳回")])],1),t.showTextarea?i("div",{staticStyle:{margin:"20px 0 0 70px"}},[i("Input",{staticStyle:{width:"300px"},attrs:{type:"textarea",placeholder:"驳回理由"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1):t._e()],1)])]),i("Modal",{staticStyle:{width:"300px"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?i("img",{staticStyle:{width:"100%"},attrs:{src:t.bigimage}}):t._e()])],1)},s=[],n=(i("ac6a"),i("bc3a")),o=i.n(n),l=i("69d9"),c=(i("1c46"),{data:function(){var t=this;return{tableTitle:[{key:"num",title:"序号",width:80},{key:"title",title:"题目",width:400,ellipsis:!0,tooltip:!0},{key:"answer",title:"答案",width:400,ellipsis:!0,tooltip:!0},{key:"action",title:"操作",render:function(e,i){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){var e={uid:t.openid,token:t.token,applyid:i.row.id,qid:i.row.qid};o.a.post(l["serverUrl"]+"/api/pcindex.php?act=getQuestionDetail",e).then(function(e){console.log(e.data),t.applyid=e.data.applyid,t.quesObj=e.data.detail,t.length=t.quesObj.pics.length}),t.modal=!0}}},"审核")])}}],tableData:[],tableLoading:!1,modal:!1,loading:!0,quesObj:{},applyid:"",choose:"",reason:"",showTextarea:!1,bigimage:"",visible:!1,length:0}},created:function(){this.fetchData()},computed:{openid:function(){return this.$store.state.user.userId},token:function(){return this.$store.state.user.token}},methods:{fetchData:function(){var t=this;this.tableLoading=!0,o.a.get(l["serverUrl"]+"/api/pcindex.php?act=getSysQuestionApplyList",{uid:this.openid,token:this.token}).then(function(e){console.log(e.data);var i=e.data;i.forEach(function(t,e){t.num=e+1}),t.tableData=i,t.tableLoading=!1})},sure:function(){var t=this;if(""!=this.choose){var e="pass"==this.choose?1:-1;if("reject"==this.choose&&""==this.reason)this.$Modal.error({title:"错误",content:"请填写驳回理由！"}),setTimeout(function(){t.loading=!1,t.$nextTick(function(){t.loading=!0})},1e3);else{"reject"==this.choose&&this.reason;var i={uid:this.openid,token:this.token,applyid:this.applyid,qid:this.quesObj.questionid,status:e,reason:this.reason};o.a.post(l["serverUrl"]+"/api/pcindex.php?act=reviewSysQuestionApply",i).then(function(e){console.log(e.data),e.data.status&&(t.$Message.success("操作成功！"),t.modal=!1,t.loading=!1,t.fetchData())})}}else this.$Modal.error({title:"错误",content:"请填写审核意见！"}),setTimeout(function(){t.loading=!1,t.$nextTick(function(){t.loading=!0})},1e3)},cancel:function(){this.modal=!1},ifTextarea:function(){"pass"==this.choose?this.showTextarea=!1:"reject"==this.choose&&(this.showTextarea=!0)},bigImage:function(t){this.bigimage=t,this.visible=!0}}}),r=c,d=(i("596c"),i("2877")),u=Object(d["a"])(r,a,s,!1,null,null,null);e["default"]=u.exports}}]);